/*! tink-sort-table-angular v2.0.1 */
"use strict";!function(module){try{module=angular.module("tink.sorttable")}catch(e){module=angular.module("tink.sorttable",["ngLodash"])}module.controller("TinkSortTableController",["lodash","$scope","$timeout",function(_,scope,timeout){var ctrl=this,dataModel=null,currentSort={prop:null,order:null},headers=[];ctrl.init=function(data){dataModel=data},ctrl.register=function(data){currentSort&&data&&currentSort.prop===data.prop&&data.fn(currentSort.order),headers[data.prop]={fn:data.fn}},ctrl.sort=function(property,order){currentSort.prop&&headers[currentSort.prop]&&headers[currentSort.prop].fn(-99),property&&(void 0!==order||null!==order?currentSort.order=order:currentSort.order=!0,currentSort.prop=property,headers[property].fn(currentSort.order))},ctrl.sortClick=function(prop,type){scope.tinkSortField=prop,currentSort.prop===prop?scope.tinkAsc=!currentSort.order:scope.tinkAsc=!0,$timeout(function(){scope.tinkCallback({$property:prop,$order:scope.tinkAsc,$type:type})},0)},Object.byString=function(o,s){s=s.replace(/\[(\w+)\]/g,".$1"),s=s.replace(/^\./,"");for(var a=s.split("."),i=0,n=a.length;n>i;++i){var k=a[i];if(!(k in o))return;o=o[k]}return o}}])}(),function(module){try{module=angular.module("tink.sorttable")}catch(e){module=angular.module("tink.sorttable",["ngLodash"])}module.directive("tinkSortHeader",[function(){return{require:"^tinkSortTable",restrict:"A",link:function(scope,elem,attr,ctrl){$(elem).addClass("is-sortable");var action=function(data){$(elem).removeClass("sort-asc").removeClass("sort-desc"),data===!0?$(elem).addClass("sort-asc"):data===!1&&$(elem).addClass("sort-desc")};null!==attr.tinkSortHeader&&void 0!==attr.tinkSortHeader&&""!==attr.tinkSortHeader&&($(elem).addClass("is-sortable"),$(elem).bind("click",function(){scope.$apply(function(){ctrl.sortClick(attr.tinkSortHeader,attr.tinkSortType)})})),ctrl.register({prop:attr.tinkSortHeader,fn:action})}}}])}(),function(module){try{module=angular.module("tink.sorttable")}catch(e){module=angular.module("tink.sorttable",["ngLodash"])}module.directive("tinkSortTable",[function(){return{restrict:"AE",controller:"TinkSortTableController",scope:{tinkSortTable:"=",tinkCallback:"&",tinkAsc:"=",tinkSortField:"="},link:function(scope,elem,attr,ctrl){return"TABLE"!==elem.get(0).tagName?void console.warn("sorter has to be set on table !"):($(elem).addClass("table-interactive"),scope.$watch("tinkAsc",function(newV){ctrl.sort(scope.tinkSortField,newV)}),scope.$watch("tinkSortField",function(newV){ctrl.sort(newV,scope.tinkAsc)}),void scope.$watch("tinkSortTable",function(){ctrl.sort(scope.tinkSortField,scope.tinkAsc)}))}}}])}();
//# sourceMappingURL=tink-sort-table-angular.min.map